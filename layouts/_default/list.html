{{ define "main" }}
<main class="content">
  {{ with .Content }}<div class="index-content">{{ . }}</div>{{ end }}

  {{ $p := .Paginate (.RegularPages.ByDate.Reverse) }}
  <div class="posts">
    {{ range $p.Pages }}
      <article class="post on-list">
        <h1 class="post-title">
          <a href="{{ .RelPermalink }}">{{ .Title | markdownify }}</a>
        </h1>

        <!-- line 1: date :: author (theme adds :: before author) -->
        <div class="post-meta">
            <time class="post-date">{{ .Date.Format "2006-01-02" }}</time>
            {{- with .Params.Author -}}
                <span class="post-author">{{ . }}</span>
            {{- end -}}
            <span class="post-reading-time">
                {{ .ReadingTime }} {{ $.Site.Params.minuteReadingTime | default "min read" }}
                ({{ .WordCount }} {{ $.Site.Params.words | default "words" }})
            </span>
        </div>


        <!-- line 2: read time on its own line -->
        {{- if and (.Param "readingTime") (eq (.Param "readingTime") true) -}}
          <div class="post-reading-time">
            {{ .ReadingTime }} {{ $.Site.Params.minuteReadingTime | default "min read" }}
            ({{ .WordCount }} {{ $.Site.Params.words | default "words" }})
          </div>
        {{- end -}}

        {{ if .Params.tags }}
          <span class="post-tags">
            {{ range .Params.tags }}
            #<a href="{{ (urls.JoinPath "tags" (urlize .) "/") | absLangURL }}">{{ . }}</a>&nbsp;
            {{ end }}
          </span>
        {{ end }}

        {{ with .Summary }}<div class="post-content">{{ . }}</div>{{ end }}
        <div><a class="read-more button" href="{{ .RelPermalink }}">â†’</a></div>
      </article>
      <hr>
    {{ end }}

    <div class="pagination">
      <div class="pagination__buttons">
        {{ with $p.Prev }}<a class="button previous" href="{{ .URL }}"><span class="prev">&larr; Newer</span></a>{{ end }}
        {{ with $p.Next }}<a class="button next" href="{{ .URL }}"><span class="next">Older &rarr;</span></a>{{ end }}
      </div>
    </div>
  </div>
</main>
{{ end }}